name: "CRM CRUD API Evaluation"
description: "Build a REST API server from scratch"

prompts:
  - id: crm-api
    prompt: |
      Build a CRM REST API server in Rust that manages people records.

      ## Requirements

      Create a server that:
      - Listens on port 3000
      - Stores data in memory (no database)
      - Uses JSON for request/response bodies

      ## Data Model

      A Person has:
      - id: UUID (server-generated)
      - first_name: String (required)
      - last_name: String (required)
      - email: String (optional)
      - phone: String (optional)

      ## Endpoints

      | Method | Path | Description | Success | Not Found |
      |--------|------|-------------|---------|-----------|
      | POST | /people | Create person | 201 + person JSON | - |
      | GET | /people | List all people | 200 + array | - |
      | GET | /people/:id | Get one person | 200 + person JSON | 404 |
      | PUT | /people/:id | Update person (partial) | 200 + person JSON | 404 |
      | DELETE | /people/:id | Delete person | 204 (no body) | 404 |

      ## Example Requests

      Create:
      ```
      POST /people
      {"first_name": "John", "last_name": "Doe", "email": "john@example.com"}
      ```

      Update (partial - only updates provided fields):
      ```
      PUT /people/uuid-here
      {"first_name": "Jane"}
      ```

      ## Tech Stack

      The Cargo.toml already has these dependencies:
      - axum (web framework)
      - tokio (async runtime)
      - serde/serde_json (JSON)
      - uuid (ID generation)

      ## Instructions

      1. Implement the server in src/main.rs
      2. Run `cargo build` to check for compile errors
      3. Run `cargo test --test api_conformance` to verify (15 tests must pass)

    eval_path: ./
    test_harness: !cargo
      test_name: api_conformance

agents:
  - tool: claude_code
    model: claude_opus_4_5
    iterations: 100
  - tool: claude_code
    model: claude_sonnet_4
    iterations: 100
  - tool: claude_code
    model: claude_haiku_4_5
    iterations: 100
